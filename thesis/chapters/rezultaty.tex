\section[Rezultaty]{Rezultaty}
\label{chapter:results}
% o czym pisać:
% \begin{itemize}
%     \item przygotowanie omówienie "formalnej" struktury "rezultatu" (na przykładzie sprawozdań z testu penetracyjnego lub zgłoszeń do bug bounty)
%     \item przedstawienie przebiegu (przygotowania i technicznej realizacji) dla każdego zrealizowanego scenariusza
%     \item wskazanie znalezionych znalezionych podatności (np. RCE - zdalne wykonanie kodu) i określenie zagrożenia jakie stanowią (np. trzeba uwzględnić czynnik, że napastnik musi mieć dostęp do portu USB)
% \end{itemize}

% formalna struktura:

% \begin{itemize}
%     \item krótki wstęp wprowadzający czytelnika do "odkrycia" (czyli co znaleźliśmy RCE dzięki urządzeniu HID)
%     \item Opis podatności (wszystkie szczegóły tzn jak wygląda payload,)
%     \item Wykorzystany sprzęt (czli rpi z systemem raspbian, widnows 10, kabel usb ??? , w scenariuszu z klawiaturą jaka przęglądarka)
% \end{itemize}
% formalna struktura:
% \begin{itemize}
%     \item Systemy takie jak windows pozwalają na podłączenie urządzeń HID, dzięki czemu można podłączyć przez port usb dowolne urządzenia identyfikujące się jak klawiatura. Takie urządzenie może wykonąc sekwencję klawiszy co pozwala na zdalen wykonywanie kodu (z ang. Remote Code Execution)
%     \item Pentester podłącza platforme wykonującą (tzn. rpi identyfikujący się jako klawiatura) do komputeraz z systemem windows. Opis jak rpi może przedstwaić się jako klawiatura oraz wsyłać sekwencje znaków znajduję się w rozdziale ~\ref{tutaj ten rodział}. Następnie pentester przygotowuje payloada, przykładowy ładunek może wyglądać następująco {'deviceType': 'KEYBOARD','name': 'test','idVendor': '0x1d6b','idProduct': '0x0104','serial': 'fedcba9876543210','manufacturer': 'BSC','product': 'BSC','payloads':[{'delay':0.5,'key':'r','leftGUI':'True'},{'delay':0.5,'text':'cmd.exe\\n'}]}. Element 'payloads' zawiera listę komend (tzn. sekwencje klawiszy które mają zostać wysłane). W przedstawionym ładunku pierwsza komenda ma zadanie uruchomić okienko umożliwiające włączenie dowolnego programu. Jeśli w kolejnym argumencie zostanie podany "cmd.exe\\n" to zostanie włączony wiersz poleceń. Następnię można wysłać dowolne polecenie, które zostanie obsłużone.
%     \item Wykaz sprzętu 
% \end{itemize}

% // i tutaj na koniec określenie zagrożenia jakie stanowi dana podatność (np. trzeba uwzględnić czynnik, że napastnik musi mieć dostęp do portu USB)


\subsection[Stan początkowy]{Stan początkowy}
Do sprawdzenia podatności można wykorzystać platforme wykonującą (tzn. rpi identyfikujący się jako klawiatura).
Opis jak rpi może przedstwaić się jako klawiatura oraz wsyłać sekwencje znaków znajduję się w rozdziale o symulowaniu działania klawiatury USB.
System, jaki był testowany to windows 10. Do przeprowadzenia testu potrzebny jest jeszcze zwykły kabel USB, który będzie służył do połączenia rpi z systemem.
\subsection[Dane Wejściowe]{Opis działania} %Dane testowe
Pentester podłącza platforme wykonującą do komputeraz z systemem windows. Następnie przygotowuje payload, przykładowy ładunek może wyglądać następująco 
\begin{lstlisting}[language={},caption={Przykładowy payload}]
{'deviceType': 'KEYBOARD','name': 'test','idVendor': '0x1d6b','idProduct': '0x0104','serial': 'fedcba9876543210','manufacturer': 'BSC','product': 'BSC','payloads':[{'delay':0.5,'key':'r','leftGUI':'True'},{'delay':0.5,'text':'cmd.exe\\n'}]}. 
\end{lstlisting}
Pierwsze elementy odpowiadają za konfigurację urządzenia, z kolei ostatni 'payloads' zawiera listę komend (tzn. sekwencje klawiszy które mają zostać wysłane). W przedstawionym ładunku pierwsza komenda ma zadanie uruchomić okno umożliwiające włączenie dowolnego programu. Jeśli w kolejnym argumencie zostanie podany "cmd.exe\\n" to zostanie włączony wiersz poleceń. Następnię można wysłać dowolne polecenie, które zostanie obsłużone. Pentester, może ustawić opóźnienie z jakim rpi ma wysłać wiadomości.
\subsection[Wykazanie Podatności]{Wykazanie podatności}
tutaj napisać o tym, że dana podatność została znaleziona, że dowolny kod może się wykonać, a opóźnienie przy wysyłaniu znaków jest minimalne
\subsection[Ocena Podatności]{Ocena podatności}
określenie zagrożenia jakie stanowi dana podatność (np. trzeba uwzględnić czynnik, że napastnik musi mieć dostęp do portu USB)
%o czym pisać:
%\begin{itemize}
%    \item Podsumowanie wykonanych prac (tzn. jaki system testowaliśmy (windows 10), ile czasu na tym spędziliśmy w osobogodzinach, na jakim koncie windowsa pracowaliśmy/testowaliśmy (testy bez posiadania uprawnień administracyjnych.) oraz na czym skupialiśmy się przy testowaniu (przejęcie kontroli nad systemem, wykradnięcie danych))
%    \item Wnioski z testów (tzn. wykrycie podatności (zidentyfikowanie kilka sposobów na przejęcie kontroli), oraz opisanie wykorzystania tej podatności)
%    \item Zalecenia (co zrobić żeby uniknąć tych zagrożeń (może edukacja ludzi, żeby nie wpinali każdego urządzenia))
%    \item Podsumowanie techniczne (tzn. opisać krótko jak wykorzystać podatności (wpiąć urządzenie pod usb i zarejestrować się np. jako klawiatura))
%    \item wykres z liczbą wykrytych zagrożeń (podzielony na poziom)
%    \item Znalezione podatności tablea (z polami: poziom zagrożenia np. krytyczne, nazwa podatności, opis podatności)
%\end{itemize}
%
%przykład tabeli
%
%\begin{table}[H]
%    \begin{tabular}{|p{3cm}|p{4cm}|p{7cm}|}
%        \hline
%        \textbf{poziom zagrżenia} & \textbf{nazwa podatności}  & \textbf{opis podatności} \\
%        \hline
%        Krytyczne & Wykonanie dowolnego payloada & (coś w stylu) Windows pozwala na dowolne wykonanie payloada (urządzenie które rejestruje się jako klawiatura może wpisywać dowolne znaki przy dowolnej prędkości )\\
%        \hline
%    \end{tabular}
%    \caption{Tabela podatności }  
%    \label{tab:podatnosc1}
%\end{table}	
	
	
	
