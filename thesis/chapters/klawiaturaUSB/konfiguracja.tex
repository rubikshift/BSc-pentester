\subsection[Konfiguracja urządzenia wykonującego (Michał Krakowiak)]{Konfiguracja urządzenia wykonującego}
W tym rodziale można całkiem sporo napisać o usb gadget configfs, nie ma takich rzeczy w programie studiów, a wykorzystaliśmy to do skonfigurowania rpi0 do działania jako klawiatura
Uzyskanie zamierzonego efektu wymaga odpowiedniego oprogramowania pożądanej funkcjonalności oraz wcześniejszego skonfigurowania urządzenia wykonującego. Wszystkie urządzenia wykonujące przynależące do realizowanego systemu działają pod kontrolą dedykowanej dystrybucji systemu operacyjnego Linux. Umożliwia do sprawdzenie problemu konfiguracji do skorzystania z istniejących interfejsów jądra systemu operacyjnego służących do tworzenia tzw. gadżetów USB. 
Termin gadżet USB używany jest do określenia urządzenia posiadającego własny kontroler urządzenia USB (ang. USB device controller, UDC) oraz możliwość podłączenia do hosta USB w celu udostępnienia mu pewnych dodatkowych funkcjonalności. Skonfigurowane w ten sposób urządzenie rozpoznawane jest przez hosta jako zbiór konfiguracji, z których każda zawiera interfejsy (nazywanych też funkcjami). System operacyjny linux dostarcza wielu gotowych funkcji urządzeń USB np. obsługę protokołu HID.
Realizowana konfiguracja korzysta z interfejsu USB Gadget Configfs, który pozwala na definiowanie konfiguracji i funkcjonalności złożonych gadżetów USB (czyli takich, które mogą udostępniać więcej niż jedną funkcjonalność) z poziomu przestrzeni adresowej użytkownika i nie wymaga realizacji własnych modułów jądra systemu operacyjnego.
Aktywacja interfejsu USB gadget configfs wymaga załadowania dodatkowego modułu jądra:
modprobe libcomposite
Proces kreowania nowego urządzenia polega na wykonaniu poszczególnych operacji na plikach w nowo zamontowanym katalogu

\begin{table}[H]
    \begin{tabular}{|l|l|}
        \hline
        \textbf{Akcja} & \textbf{Operacja na systemie plików} \\
        \hline
            Stwórz gadżet/funkcję/konfigurację & Stwórz katalog (mkdir) \\
        \hline
            Usuń gadżet/funkcję/konfigurację & Usuń katalog (rmdir) \\
        \hline
            Ustaw wartość atrybutu & Zapis (echo) \\
        \hline
            Pobranie wartości atrybutu & Odczyt (cat) \\
        \hline
            Grupowanie funkcjonalności & Dowiązanie symboliczne (ln -s) \\
        \hline
            Rozgrupowanie funkcjonalności & Usuń dowiązanie symboliczne (rm) \\
        \hline    
    \end{tabular}
    \caption{Mapowanie operacji usb gadget configfs}  
    \label{tab:configs_map}
\end{table}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth]{mk01}
    \caption{Configs}
    \label{fig:configfs}
\end{figure}
