#!/usr/bin/env python3
import time
from lib import systemUtils as utils
from lib.usb.keyboard import Keyboard
from lib.usb.ether import Ether


if __name__ == "__main__":
    utils.log("start", "DEBUG")
    utils.getRootPrivileges()
    device = Keyboard("test", "0x1d6b", "0x0104",
                      "fedcba9876543210", "BSC", "BSC")
    PAYLOADS = [
        {
            "delay": 1,
            "key": "r",
            "leftGUI": True
        },
        {
            "delay": 1,
            "text": "cmd\n"
        },
        {
            "delay": 1,
            "text": "dir\n"
        },
        {
            "delay": 10,
            "text": "exit\n"
        }
    ]
    for payload in PAYLOADS:
        device.executePayload(**payload)
